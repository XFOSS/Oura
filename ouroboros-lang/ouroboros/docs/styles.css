/* CSS Variables for Theming */
:root {
  --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  --font-code: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;

  --bg-primary: #ffffff;
  --bg-secondary: #f7f9fc;
  --bg-sidebar: #1a1d24;
  --bg-code-block: #f0f2f5;
  --bg-hero: linear-gradient(135deg, #6366f1, #8b5cf6);
  --bg-card: #ffffff;
  --bg-hover: #f0f1f8;
  --bg-output-header: #e9ecef;

  --text-primary: #2c3e50;
  --text-secondary: #576c7f;
  --text-sidebar: #e0e0e0;
  --text-sidebar-active: #ffffff;
  --text-sidebar-hover: #c4b5fd;
  --text-muted: #8a9aaf;
  --text-hero: #ffffff;
  --text-output-header: #343a40;
  --text-keyword-highlight: var(--accent-primary); /* For keywords in .keyword-grid */

  --accent-primary: #6366f1;
  --accent-primary-hover: #5a5def;
  --accent-secondary: #f97316;
  --accent-secondary-hover: #f06a0b;
  
  --heading-color: #1f2937;
  --link-color: var(--accent-primary);
  --link-color-hover: var(--accent-primary-hover);

  --border-primary: #dee2e6;
  --border-secondary: #ced4da;
  --border-code-block: #d1d5db;
  --border-card: var(--border-primary);

  --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.03);
  --shadow-medium: 0 8px 13px -3px rgba(0, 0, 0, 0.06), 0 3px 5px -4px rgba(0, 0, 0, 0.03);
  --shadow-strong: 0 15px 20px -5px rgba(0, 0, 0, 0.08), 0 6px 8px -6px rgba(0, 0, 0, 0.05);

  --scrollbar-track: #f1f1f1;
  --scrollbar-thumb: #b0bec5;
  --scrollbar-thumb-hover: var(--accent-primary);

  /* Prism token colors for light theme */
  --code-text: #393A34;
  --code-comment: #708090;
  --code-punctuation: #999999;
  --code-property: #990055; /* Covers .tag, .symbol, .deleted, .namespace, .entity */
  --code-boolean: #990055; /* Same as number for now */
  --code-number: #990055;   /* Covers .constant */
  --code-string: #669900;  /* Covers .selector, .attr-name, .char, .inserted */
  --code-operator: #a67f59;/* Covers .url */
  --code-atrule: #0077aa;  /* Covers .attr-value */
  --code-keyword: #0077aa;
  --code-builtin-val: #6f42c1; /* Distinct for built-in values/functions */
  --code-function: #DD4A68;
  --code-class-name: #6f42c1;
  --code-regex: #ee9900;   /* Covers .important, .variable */
  --code-user-defined-type: var(--code-class-name);
  --code-builtin-type: #207020;
}

[data-theme="dark"] {
  --bg-primary: #0f1218;
  --bg-secondary: #161b22;
  --bg-sidebar: #010409;
  --bg-code-block: #0d1117;
  --bg-hero: linear-gradient(135deg, #3730a3, #5b21b6);
  --bg-card: #1f2937;
  --bg-hover: #2c3747;
  --bg-output-header: #30363d;
  --text-keyword-highlight: var(--accent-primary);

  --text-primary: #c9d1d9;
  --text-secondary: #8b949e;
  --text-sidebar: #afb8c1;
  --text-sidebar-active: #ffffff;
  --text-sidebar-hover: #9099fc;
  --text-muted: #6e7681;
  --text-hero: #ffffff;
  --text-output-header: #f0f6fc;

  --accent-primary: #818cf8;
  --accent-primary-hover: #707bf7;
  --accent-secondary: #fb923c;
  --accent-secondary-hover: #fa892b;

  --heading-color: #e5e7eb;
  --link-color: var(--accent-primary);
  --link-color-hover: var(--accent-primary-hover);

  --border-primary: #30363d;
  --border-secondary: #21262d;
  --border-code-block: #444c56;
  --border-card: var(--border-primary);

  --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.15), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 8px 13px -3px rgba(0, 0, 0, 0.2), 0 3px 5px -4px rgba(0, 0, 0, 0.15);
  --shadow-strong: 0 15px 20px -5px rgba(0, 0, 0, 0.25), 0 6px 8px -6px rgba(0, 0, 0, 0.2);

  --scrollbar-track: #161b22;
  --scrollbar-thumb: #5a6578;
  --scrollbar-thumb-hover: var(--accent-primary);

  /* Prism token colors for dark theme (OKAIDIA like) */
  --code-text: #f8f8f2;
  --code-comment: #6272a4;
  --code-punctuation: #f8f8f2;
  --code-property: #ff79c6;
  --code-boolean: #bd93f9;
  --code-number: #bd93f9;
  --code-constant: #f8f8f2;
  --code-symbol: #bd93f9;
  --code-string: #f1fa8c;
  --code-builtin-val: #8be9fd;
  --code-operator: #ffb86c;
  --code-atrule: #ff79c6;
  --code-keyword: #ff79c6;
  --code-function: #50fa7b;
  --code-class-name: #8be9fd;
  --code-regex: #f1fa8c;
  --code-variable: #8be9fd;
  --code-user-defined-type: var(--code-class-name);
  --code-builtin-type: #61dafb;
}

/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  font-size: 16px;
}

body {
  font-family: var(--font-primary);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.7;
  transition: background-color 0.3s ease, color 0.3s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Scrollbar Styling */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: var(--scrollbar-track); border-radius: 10px; }
::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 10px; border: 2px solid var(--scrollbar-track); }
::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover); }

/* Sidebar Navigation */
.sidebar {
  position: fixed; left: 0; top: 0; width: 280px; height: 100vh;
  background-color: var(--bg-sidebar); overflow-y: auto; padding: 1.5rem;
  box-shadow: var(--shadow-medium); z-index: 1000; display: flex; flex-direction: column;
  transition: transform 0.3s ease-in-out;
}
.logo {
  display: flex; align-items: center; gap: 0.75rem; margin-bottom: 2rem;
  padding: 0.5rem 0; color: var(--text-sidebar-active);
}
.logo i { font-size: 2.2rem; color: var(--accent-primary); transition: transform 0.2s ease; }
.logo h1 { font-size: 1.6rem; font-weight: 700; letter-spacing: -0.5px; }

.nav-links { list-style: none; flex-grow: 1; margin-bottom: 1rem; }
.nav-links li { margin-bottom: 0.25rem; }
.nav-links a {
  display: flex; align-items: center; gap: 0.85rem; padding: 0.8rem 1rem;
  color: var(--text-sidebar); text-decoration: none; border-radius: 6px;
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
  font-size: 0.9rem; font-weight: 500; position: relative;
}
.nav-links a::before {
  content: ""; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
  width: 4px; height: 0; background: var(--accent-primary);
  border-radius: 0 2px 2px 0; transition: height 0.2s ease-in-out;
}
.nav-links a:hover {
  background-color: rgba(99, 102, 241, 0.05); /* Defaulting to light theme accent RGB for this var */
  color: var(--text-sidebar-hover);
}
[data-theme="dark"] .nav-links a:hover {
  background-color: rgba(129, 140, 248, 0.05); /* Dark theme accent RGB */
}
.nav-links a:hover::before, .nav-links a.active::before { height: 70%; }
.nav-links a.active {
  background-color: rgba(99, 102, 241, 0.15); /* Defaulting to light theme accent RGB */
  color: var(--text-sidebar-active); font-weight: 600;
}
[data-theme="dark"] .nav-links a.active {
  background-color: rgba(129, 140, 248, 0.15); /* Dark theme accent RGB */
}
.nav-links a i { width: 18px; text-align: center; font-size: 1rem; opacity: 0.8; transition: opacity 0.2s ease; }
.nav-links a:hover i, .nav-links a.active i { opacity: 1; }

/* Theme Toggle */
.theme-toggle-container { padding: 1rem 0; margin-top: auto; }
#theme-btn {
  background-color: transparent; border: 1px solid var(--text-sidebar); color: var(--text-sidebar);
  width: 44px; height: 44px; border-radius: 50%; cursor: pointer; font-size: 1.1rem;
  transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; margin: 0 auto;
}
#theme-btn:hover {
  background-color: var(--accent-primary); color: var(--text-sidebar-active); border-color: var(--accent-primary);
}

/* Main Content & Sections */
.content { margin-left: 280px; padding: 2rem 3rem; transition: margin-left 0.3s ease-in-out; }
.section { margin-bottom: 4rem; padding-top: 2rem; scroll-margin-top: 80px; animation: fadeIn 0.5s ease-out forwards; opacity: 0; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

/* Hero Section */
.hero {
  text-align: center; padding: 5rem 2rem; background: var(--bg-hero); color: var(--text-hero);
  border-radius: 12px; margin-bottom: 4rem; box-shadow: var(--shadow-medium);
}
.hero h1 { font-size: 2.8rem; font-weight: 800; margin-bottom: 1rem; letter-spacing: -1px; }
.tagline { font-size: 1.2rem; margin-bottom: 2.5rem; opacity: 0.9; max-width: 600px; margin-left: auto; margin-right: auto; }
.hero-buttons { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
.btn {
  padding: 0.8rem 1.8rem; border-radius: 6px; text-decoration: none; font-weight: 600;
  transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  display: inline-flex; align-items: center; gap: 0.5rem; border: 2px solid transparent; font-size: 0.95rem;
}
.btn-primary { background-color: var(--accent-primary); color: white; border-color: var(--accent-primary); }
.btn-primary:hover { background-color: var(--accent-primary-hover); border-color: var(--accent-primary-hover); box-shadow: var(--shadow-soft); }
.btn-secondary { background-color: transparent; color: var(--text-hero); border: 2px solid var(--text-hero); }
[data-theme="light"] .hero .btn-secondary { color: white; border-color: white; }
[data-theme="dark"] .hero .btn-secondary { color: #e0e0e0; border-color: #e0e0e0; }
.btn-secondary:hover { background-color: white; /* In light theme, for dark text-hero */ color: var(--accent-primary); }
[data-theme="dark"] .btn-secondary:hover { background-color: #e0e0e0; color: var(--accent-primary); }


/* Feature Cards */
.features { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 3rem; }
.feature-card {
  background: var(--bg-card); padding: 2rem 1.5rem; border-radius: 10px; text-align: center;
  transition: box-shadow 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), border-color 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  border: 1px solid var(--border-primary); box-shadow: var(--shadow-soft);
}
.feature-card:hover { box-shadow: var(--shadow-medium); border-color: var(--accent-primary); }
.feature-card i { font-size: 2.5rem; color: var(--accent-primary); margin-bottom: 1rem; display: block; }
.feature-card h3 { margin-bottom: 0.75rem; color: var(--heading-color); font-size: 1.25rem; }
.feature-card p { font-size: 0.9rem; color: var(--text-secondary); }

/* Typography & Lists */
h1,h2,h3,h4,h5,h6 { color: var(--heading-color); font-weight: 700; line-height: 1.3; }
h1 { font-size: 2.5rem; margin-bottom: 1.5rem; }
h2 { font-size: 2rem; font-weight: 700; margin-bottom: 2rem; padding-bottom: 0.75rem; border-bottom: 2px solid var(--border-primary); display: flex; align-items: center; gap: 0.75rem; }
h2 i { color: var(--accent-primary); font-size: 1.8rem; }
h3 { font-size: 1.5rem; font-weight: 600; margin: 2.5rem 0 1rem; color: var(--heading-color); }
h4 { font-size: 1.15rem; font-weight: 600; margin: 2rem 0 0.75rem; color: var(--accent-secondary); }
p { margin-bottom: 1.25rem; color: var(--text-primary); }
a { color: var(--link-color); text-decoration: none; transition: color 0.2s ease; }
a:hover { color: var(--link-color-hover); text-decoration: underline; }
ul, ol { margin: 1rem 0 1.5rem 1.5rem; padding-left: 1rem; }
li { margin-bottom: 0.6rem; color: var(--text-secondary); }
ul li::marker { color: var(--accent-primary); }
ol li::marker { font-weight: 600; color: var(--accent-primary); }

/* Inline Code - NO BOXES */
:not(pre) > code {
  font-family: var(--font-code);
  font-size: 0.875em;
  /* Text color is primarily handled by Prism's .token spans */
  /* If not a token, it will inherit from parent or use a fallback if set here. */
  /* For example: color: var(--text-primary); */
  background-color: transparent;
  padding: 0;
  border-radius: 0;
  border: none;
  margin: 0 0.05em; /* Minimal horizontal spacing if needed */
}
/* Ensure Prism token colors take precedence for text color inside these inline codes */
:not(pre) > code .token {
  background: transparent !important; /* No background for tokens within inline code */
   /* Text color will come from the specific .token.keyword, .token.string etc. rules */
}


/* Code Block (pre) Styling */
pre[class*="language-"] {
  position: relative;
  background: var(--bg-code-block) !important;
  border: 1px solid var(--border-code-block);
  border-radius: 8px;
  padding: 1.25rem;
  overflow-x: auto;
  margin: 1.5rem 0;
  box-shadow: var(--shadow-soft);
  font-size: 0.9rem;
  line-height: 1.5;
}
/* Code within pre (actual text) */
pre[class*="language-"] code[class*="language-"] {
  font-family: var(--font-code);
  color: var(--code-text); /* Base text color for code */
  background: none !important;
  text-shadow: none !important;
  padding: 0; margin: 0; border: none; font-size: inherit;
}

/* Prism Token Styling (using CSS Variables) */
.token.comment, .token.prolog, .token.doctype, .token.cdata { color: var(--code-comment); font-style: italic; }
.token.punctuation { color: var(--code-punctuation); }
.token.property, .token.tag, .token.symbol, .token.deleted, .token.namespace, .token.entity { color: var(--code-property); }
.token.boolean, .token.number, .token.constant { color: var(--code-number); }
.token.selector, .token.attr-name, .token.string, .token.char, .token.inserted { color: var(--code-string); }
.token.operator, .token.url { color: var(--code-operator); }
.token.atrule, .token.attr-value { color: var(--code-atrule); }
.token.keyword { color: var(--code-keyword) !important; } /* Make sure keyword color is applied */
.token.builtin, .token.builtin-function { color: var(--code-builtin-val) !important; } /* For print(), etc. */
.token.type, .token.builtin-type { color: var(--code-builtin-type) !important; } /* For int, float etc. */
.token.user-defined-type, .token.class-name, .token.class-name-definition, .token.class-name-usage { color: var(--code-class-name) !important; }
.token.function, .token.function-definition, .token.method { color: var(--code-function) !important; }
.token.regex, .token.important, .token.variable { color: var(--code-variable); }


/* Copy Button for Code Blocks */
.copy-btn {
  position: absolute; top: 0.75rem; right: 0.75rem; background: var(--accent-primary);
  color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 5px; cursor: pointer;
  font-size: 0.8rem; transition: background-color 0.2s ease-in-out, opacity 0.2s ease-in-out; opacity: 0; z-index: 10;
}
pre:hover .copy-btn { opacity: 1; }
.copy-btn:hover { background: var(--accent-primary-hover); }
.copy-btn.copied { background: #10b981; }
.copy-btn.copied::after { content: " Copied!"; font-size: 0.75rem; margin-left: 0.25rem; }

/* Keyword Grid & Keyword Styling - MODIFIED for text-only appearance */
.keyword-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25em 0.75em; /* Row gap and column gap for text flow */
  margin: 1.5rem 0;
  padding-left: 0;
  line-height: 1.6; /* Adjust to match paragraph or desired line height */
}
.keyword {
  font-family: var(--font-code);
  font-size: 0.95rem;
  font-weight: 600; /* Bold for emphasis */
  color: var(--text-keyword-highlight);
  background-color: transparent; /* NO BACKGROUND */
  padding: 0;                  /* NO PADDING */
  border: none;                /* NO BORDER */
  border-radius: 0;            /* NO BORDER RADIUS */
  text-align: left;
  display: inline; /* Flow like text */
  margin: 0; /* No specific margin, rely on flex gap */
  transition: color 0.2s;
}
.keyword:hover {
  /* Optional: color: var(--accent-primary-hover); */
}

/* Output Box, Table Styling, Function Doc, etc. (remainder of styles from previous version) */
.output-box { background: var(--bg-code-block); border: 1px solid var(--border-code-block); border-radius: 8px; margin: 1.5rem 0; overflow: hidden; box-shadow: var(--shadow-soft); }
.output-header { background: var(--bg-output-header); padding: 0.6rem 1.25rem; font-weight: 600; font-size: 0.9rem; color: var(--text-output-header); border-bottom: 1px solid var(--border-code-block); }
.output-box pre { margin: 0; padding: 1rem 1.25rem; background: transparent !important; border: none !important; box-shadow: none !important; font-size: 0.875rem; }

.table-container { overflow-x: auto; margin: 1.5rem 0; }
.styled-table { width: 100%; border-collapse: collapse; background: var(--bg-card); border-radius: 8px; overflow: hidden; box-shadow: var(--shadow-medium); font-size: 0.9rem; }
.styled-table thead { background: var(--accent-primary); color: white; }
.styled-table th, .styled-table td { padding: 0.9rem 1.1rem; text-align: left; border-bottom: 1px solid var(--border-primary); }
.styled-table th { font-weight: 600; letter-spacing: 0.5px; }
.styled-table tbody tr:last-child td { border-bottom: none; }
.styled-table tbody tr:hover { background: var(--bg-hover); }
/* Inline code within tables will use the :not(pre) > code style */

.function-doc { background-color: var(--bg-secondary); border-left: 5px solid var(--accent-primary); padding: 1.25rem 1.5rem; margin: 2rem 0; border-radius: 0 8px 8px 0; box-shadow: var(--shadow-soft); }
.function-doc h4 { margin-top: 0; margin-bottom: 0.75rem; color: var(--accent-primary); font-size: 1.1rem; }
.function-doc p { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem; }
.function-doc p:last-child { margin-bottom: 0; }

.install-steps { list-style: none; padding-left: 0; margin: 2rem 0; counter-reset: step-counter; }
.install-steps li { position: relative; padding: 0.5rem 0 1.5rem 2.5rem; margin-bottom: 1rem; border-left: 2px solid var(--border-primary); }
.install-steps li::before {
  counter-increment: step-counter;
  content: counter(step-counter); /* This was the misplaced content */
  position: absolute; left: -1.1rem; top: 0;
  width: 2rem; height: 2rem; background-color: var(--accent-primary); color: white; border-radius: 50%;
  display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem; box-shadow: var(--shadow-soft);
}
.install-steps li:last-child { border-left: 2px solid transparent; }
.install-steps h4 { margin-top: 0; margin-bottom: 0.5rem; color: var(--heading-color); }

.feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; margin: 2rem 0; }
.vs-feature { background: var(--bg-card); padding: 1.5rem; border-radius: 10px; text-align: center; transition: box-shadow 0.3s ease, border-color 0.3s ease; border: 1px solid var(--border-primary); box-shadow: var(--shadow-soft); }
.vs-feature:hover { box-shadow: var(--shadow-medium); border-color: var(--accent-secondary); }
.vs-feature i { font-size: 2.2rem; color: var(--accent-secondary); margin-bottom: 1rem; }
.vs-feature h4 { margin-bottom: 0.5rem; color: var(--heading-color); font-size: 1.1rem; }
.vs-feature p { font-size: 0.85rem; color: var(--text-secondary); }

.screenshot { max-width: 100%; border-radius: 8px; box-shadow: var(--shadow-strong); margin: 2rem auto; display: block; border: 1px solid var(--border-primary); }

footer { margin-left: 280px; padding: 2.5rem 3rem; text-align: center; color: var(--text-muted); border-top: 1px solid var(--border-primary); font-size: 0.9rem; transition: margin-left 0.3s ease-in-out; }
footer p { margin-bottom: 0.75rem; }
footer a { color: var(--link-color); margin: 0 0.5rem; display: inline-block; }
footer a:hover { color: var(--link-color-hover); }
footer .fab, footer .fas { margin-right: 0.3rem; }

.sidebar-toggle-btn { display: none; position: fixed; top: 1rem; left: 1rem; width: 44px; height: 44px; background-color: var(--accent-primary); color: white; border: none; border-radius: 8px; font-size: 1.2rem; cursor: pointer; z-index: 1001; box-shadow: var(--shadow-medium); transition: background-color 0.2s ease; }
.sidebar-toggle-btn:hover { background-color: var(--accent-primary-hover); }

/* Responsive Design */
@media (max-width: 992px) { 
  .sidebar { transform: translateX(-100%); box-shadow: none; }
  .sidebar.active { transform: translateX(0); box-shadow: var(--shadow-medium); }
  .sidebar-toggle-btn { display: flex; align-items: center; justify-content: center; }
  .content, footer { margin-left: 0; }
  .hero h1 { font-size: 2.5rem; } .tagline { font-size: 1.1rem; }
  h2 { font-size: 1.8rem; } h2 i { font-size: 1.6rem; }
  h3 { font-size: 1.3rem; } h4 { font-size: 1.1rem; }
}
@media (max-width: 768px) { 
  .content { padding: 1.5rem; } footer { padding: 2rem 1.5rem; }
  .hero { padding: 3rem 1rem; } .hero h1 { font-size: 2.2rem; } .tagline { font-size: 1rem; }
  .hero-buttons { flex-direction: column; } .btn { width: 100%; max-width: 300px; margin: 0.5rem 0; }
  .features, .feature-grid { grid-template-columns: 1fr; } 
  .keyword-grid { grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 0.2em 0.5em; }
  .styled-table th, .styled-table td { padding: 0.7rem 0.9rem; }
}
@media (max-width: 480px) { 
  html { font-size: 15px; } .logo h1 { font-size: 1.4rem; }
  .nav-links a { padding: 0.7rem 0.8rem; font-size: 0.85rem; gap: 0.6rem;}
  .hero h1 { font-size: 2rem; } h2 { font-size: 1.6rem; } h2 i { font-size: 1.4rem; }
  .keyword-grid { gap: 0.15em 0.4em; } 
  .keyword { font-size: 0.9rem; } /* Ensure keywords in grid are readable */
}
